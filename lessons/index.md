# 受講管理システムを題材としたハンズオン型レッスン

## 概要

- **対象者**: Laravel少し経験あり
- **形式**: 自習教材（ドキュメント型）
- **構成**: 全18レッスン（4パート）
- **技術スタック**: Laravel 12 + Inertia.js + React + Fortify

## 題材概要

受講管理システムを段階的に構築しながら、Laravelの実践的なスキルを習得します。

### エンティティ
- **User**: 生徒/講師を識別する`role`フィールドを持つ
- **Course**: 講座
- **Enrollment**: 受講（生徒と講座の中間テーブル）

---

## Part 1: 基礎編 (Lesson 1-6)

| # | タイトル | 学習目標 |
|---|---------|---------|
| 1 | [はじめてのAPI実装](./01-first-api.md) | API Resourceを使ったレスポンス整形の基本 |
| 2 | [デバッグ手法を身につける](./02-debugging.md) | Log、Telescope、dd()の使い分け |
| 3 | [認証の仕組みを理解する](./03-authentication.md) | Fortifyの認証フローを把握 |
| 4 | [認可（Gate/Policy）を実装する](./04-authorization.md) | 「誰が何をできるか」の制御 |
| 5 | [API設計の基本](./05-api-design.md) | RESTful API設計原則を学ぶ |
| 6 | [Course APIの実装](./06-course-api.md) | Eloquentコレクションの活用 |

---

## Part 2: 実践テクニック編 (Lesson 7-12)

| # | タイトル | 学習目標 |
|---|---------|---------|
| 7 | [良いコードを書く](./07-clean-code.md) | 可読性の高いコードの原則 |
| 8 | [データベース設計の基礎](./08-database-design.md) | 堅牢なDB設計の原則 |
| 9 | [N+1問題を解決する](./09-n-plus-one.md) | Eager Loadingの習得 |
| 10 | [安全なモデルの記述](./10-safe-model.md) | Mass Assignment対策 |
| 11 | [トランザクション処理](./11-transaction.md) | データ整合性の担保 |
| 12 | [FormRequestによるバリデーション](./12-validation.md) | 堅牢なバリデーション設計 |

---

## Part 3: アーキテクチャ編 (Lesson 13-16)

| # | タイトル | 学習目標 |
|---|---------|---------|
| 13 | [サービスコンテナとDI](./13-di-container.md) | 依存性注入の活用 |
| 14 | [サービスクラスの設計](./14-service-class.md) | Fat Controller解消 |
| 15 | [自動テストの書き方](./15-testing.md) | PHPUnit/Pestでテスト |
| 16 | [メールとジョブ機能](./16-mail-job.md) | 非同期処理の基本 |

---

## Part 4: 応用・仕上げ編 (Lesson 17-18)

| # | タイトル | 学習目標 |
|---|---------|---------|
| 17 | [TDDで機能を追加する](./17-tdd.md) | テスト駆動開発の実践 |
| 18 | [フロントエンドとの統合](./18-frontend-integration.md) | Inertia連携でシステム完成 |

---

## 各Partで完成するもの

| Part | 完成物 |
|------|--------|
| Part 1 | User API、Course 一覧/詳細 API |
| Part 2 | Enrollment API（CRUD）、バリデーション |
| Part 3 | サービス層リファクタリング済みAPI、テストコード |
| Part 4 | フロントエンド連携済みの動作する受講管理システム |

---

## カリキュラム全体マップ

```
Part 1: 基礎編
┌─────────────────────────────────────────────────────────────┐
│ L1 API実装 → L2 デバッグ → L3 認証(Fortify) → L4 認可     │
│     L5 API設計 → L6 Course API実装(コレクション)           │
└─────────────────────────────────────────────────────────────┘
                              ↓
Part 2: 実践テクニック編
┌─────────────────────────────────────────────────────────────┐
│ L7 良いコード → L8 DB設計 → L9 N+1問題 → L10 安全なモデル │
│     L11 トランザクション → L12 FormRequest                 │
└─────────────────────────────────────────────────────────────┘
                              ↓
Part 3: アーキテクチャ編
┌─────────────────────────────────────────────────────────────┐
│ L13 DI/サービスコンテナ → L14 サービスクラス設計           │
│     L15 自動テスト → L16 メール/ジョブ                     │
└─────────────────────────────────────────────────────────────┘
                              ↓
Part 4: 応用・仕上げ編
┌─────────────────────────────────────────────────────────────┐
│ L17 TDD → L18 フロントエンド統合・完成                     │
└─────────────────────────────────────────────────────────────┘
```

---

## 補足資料

- [ER図](./references/er-diagram.md)
- [API仕様書](./references/api-spec.md)
- [artisanコマンドチートシート](./references/artisan-cheatsheet.md)
- [トラブルシューティング](./references/troubleshooting.md)
